<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Reset Password | Good Hands</title>
  <link rel="stylesheet" href="css/register.css"> <!-- Your provided CSS -->
</head>
<body>
  <div class="form-page">
    <div class="form-container">
      <div class="form-header">
        <div class="login-icon">
          <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"/>
          </svg>
        </div>
        <h1>Reset Password</h1>
        <p>Enter your email to receive a reset link</p>
      </div>

      <div id="response-msg" style="text-align: center; margin-bottom: 15px; font-size: 13px;"></div>

      <form id="forgotForm">
        <div class="input-group">
          <svg class="input-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path fill="#4FD1B5" d="M12 13.065L2 6v12h20V6l-10 7.065zM12 11L2 4h20L12 11z"/>
          </svg>
          <input type="email" id="email" placeholder="Email Address" required>
        </div>

        <button type="submit" class="submit-btn">Send Reset Link</button>
      </form>

      <p class="switch-form">
        Remembered it? <a href="login.html">Back to Login</a>
      </p>
    </div>
  </div>

  <script>
    document.getElementById('forgotForm').addEventListener('submit', async (e) => {
      e.preventDefault();
      const email = document.getElementById('email').value;
      const msg = document.getElementById('response-msg');
      
      msg.innerHTML = "Checking...";
      msg.style.color = "#555";

      try {
        const response = await fetch('../php/request-reset.php', {
          method: 'POST',
          headers: {'Content-Type': 'application/json'},
          body: JSON.stringify({ email })
        });
        const data = await response.json();
        
        if(data.success) {
            msg.style.color = "#4FD1B5";
            msg.innerHTML = data.message;
        } else {
            msg.style.color = "#ef4444";
            msg.innerHTML = data.message;
        }
      } catch (err) {
        msg.innerHTML = "Connection Error.";
      }
    });
  </script>
</body>
</html>